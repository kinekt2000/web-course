{"version":3,"sources":["webpack://auction-participation/./src/waiting.js"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;;AAEA,2CAA2C,QAAQ;AACnD,2CAA2C,QAAQ;AACnD;;AAEA;AACA;AACA,gCAAgC,yBAAyB;;AAEzD;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC,C","file":"./scripts/waiting.js","sourcesContent":["let currentTime;\nlet $minutes;\nlet $seconds\n\nfunction showTime(time) {\n    currentTime = time;\n    $minutes = $(\".minutes\");\n    $seconds = $(\".seconds\");\n\n    displayTime(time)\n\n    setInterval(function () {\n        currentTime --;\n        displayTime(currentTime);\n        if(currentTime === 0)\n            location.reload()\n    }, 1000)\n}\n\n\nfunction displayTime(time) {\n    const minutes = (Math.floor(time / 60)).toString();\n    const seconds = (time % 60).toString()\n\n    $minutes.text(minutes.length < 2 ? `0${minutes}`: minutes);\n    $seconds.text(seconds.length < 2 ? `0${seconds}`: seconds);\n}\n\nfunction connectToServer() {\n    let socket = io.connect(\"http://localhost:3030\");\n    socket.on(\"connect\", () => {console.log(\"connected\")})\n\n    socket.on(\"update\", () => {\n        location.reload();\n    })\n}\n\n$(() =>{\n    const $time = $(\".time\");\n\n    if($time.length) {\n        showTime($(\".time\").data(\"time\"));\n    } else {\n        connectToServer()\n    }\n})"],"sourceRoot":""}